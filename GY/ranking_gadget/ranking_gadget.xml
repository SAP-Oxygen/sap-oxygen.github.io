<?xml version="1.0" encoding="UTF-8" ?> 
<!-- Tutorial_08_Complete_Tutorial_Code_Example (XML, HTML, CSS, JavaScript) -->
<Module>
  <ModulePrefs title="Ranking" height="350">
    <Require feature="dynamic-height"/>
    <Require feature="wave"/>
    <Require feature="osapi"/>
    <Locale lang="all">
      <msg name="ranking.ranking">Ranking</msg>
      <msg name="ranking.prioritize_options">Prioritize options by re-ordering the list, then submit your ranking</msg>
      <msg name="ranking.options_changed">Since you submitted this ranking the list has changed</msg>
      <msg name="ranking.ranking_submitted">You have submitted your ranking. You can still re-prioritize options and submit again</msg>
      <msg name="ranking.order_changed">You have changed the ranking you previously submitted. Re-submit.</msg>
      <msg name="ranking.finished_ranking">We are done ranking these options</msg>
      <msg name="ranking.build_ranking_list">Build</msg>
      <msg name="ranking.rank_items_submit_results">Rank</msg>
      <msg name="ranking.rank">Rank</msg>
      <msg name="ranking.re_rank">Re-Rank</msg>
      <msg name="ranking.your_rank">Your Rank</msg>
      <msg name="ranking.lock_your_ranking">Lock Your Ranking</msg>
      <msg name="ranking.freeze_ranking">Freeze</msg>
      <msg name="ranking.unfreeze_ranking">Unfreeze Ranking</msg>
      <msg name="ranking.start_ranking">Start Ranking</msg>
      <msg name="ranking.add_to_ranking_list">Type in an item and add it to the ranking list</msg>
      <msg name="ranking.type_statement_ranking">Click here to type in a statement for ranking</msg>
      <msg name="ranking.two_items_required">A statement and 2 ranking items are required</msg>
      <msg name="ranking.drag_n_drop_items">Drag and drop items to re-order</msg>
      <msg name="ranking.empty_rank_item_title">Rank item title cannot be empty!</msg>
      <msg name="ranking.once_you_start_ranking">Once you start ranking no one will be able to edit the ranking list items.</msg>
      <msg name="ranking.starting_ranking_allows">Starting ranking allows everyone to rank the items and submit their own ranked list.</msg>
      <msg name="ranking.confirm_start_ranking">Are you sure you want to start ranking now?</msg>
      <msg name="ranking.submit_ranked_list">Submit Your Ranked List</msg>
      <msg name="ranking.submit_ranking">Submit Your Ranking</msg>
      <msg name="ranking.edit_rank_options">Edit Your Rank Options</msg>
      <msg name="ranking.edit_ranking_list">Edit Ranking List</msg>
      <msg name="ranking.aggregate_ranking_results">Aggregate Ranking Results</msg>
      <msg name="ranking.withdraw_ranking_submission">Withdraw your ranking submission and go back to re-rank items</msg>
      <msg name="ranking.close_ranking">This will close the ranking to further submissions.</msg>
      <msg name="ranking.no_more_submissions">Lock the ranking when you don't want any more ranking submissions. You will be able to unlock the ranking if needed.</msg>
      <msg name="ranking.confirm_lock_ranking">Are you sure you want to lock this ranking?</msg>
      <msg name="ranking.open_ranking">This will open up the ranking again to accept ranking submissions.</msg>
      <msg name="ranking.confirm_unlock_ranking">Are you sure you want to unlock this ranking?</msg>
      <msg name="ranking.empty_option">Option cannot be empty</msg>
      <msg name="ranking.1_person_submitted_ranking">1 person has submitted a ranking</msg>
      <msg name="ranking.n_people_submitted_ranking">%{n} people have submitted a ranking</msg>
      <msg name="ranking.noone_submitted_ranking">No one has submitted a ranking</msg>
      <msg name="ranking.back_build_ranking_list">Back to Build Ranking List</msg>
      <msg name="ranking.reset_ranking_submissions">This will reset everyone's ranking submission.</msg>
      <msg name="ranking.reset_and_return_to_build">This will reset everyone's ranking submission, and return to Build Ranking List.</msg>
      <msg name="ranking.confirm_build_ranking_list">Are you sure you want to return to Build Ranking List?</msg>
      <msg name="ranking.build_edit_items">Collaboratively build and edit the items to be ranked.</msg>
      <msg name="ranking.order_ranking_items">Where you and others order the ranking items and submit your own ordered list.</msg>
      <msg name="ranking.results_will_be_shown">After submission the results will be shown.</msg>
      <msg name="ranking.close_off_ranking">Close off the ranking to anymore submissions.</msg>
      <msg name="infrastructure.cancel">Cancel</msg>
      <msg name="infrastructure.ok">OK</msg>
      <msg name="items.no_duplicate_options">You cannot have duplicate options</msg>
      <msg name="items.remove_this_option">Remove This Option</msg>
      <msg name="items.edit_this_option">Edit This Option</msg>
      <msg name="items.items">Items</msg>
      <msg name="common.click_to_edit">Click to edit</msg>
      <msg name="infrastructure.add">Add</msg>
    </Locale>
  </ModulePrefs>
  <Content type="html">
    <![CDATA[

      <link href="jam-ui.css" media="screen" rel="stylesheet" type="text/css" />
      <link href="sw-items.css" media="screen" rel="stylesheet" type="text/css" />
      <link href="additional.css" media="screen" rel="stylesheet" type="text/css" />

      <script src="https://code.jquery.com/jquery-1.11.2.js"></script>
      <script type="text/javascript" src="jquery.jeditable.js"></script>
      <script type="text/javascript" src="sw-button.js"></script>
      <script type="text/javascript" src="underscore.js"></script>
      <script type="text/javascript" src="bootstrap-tooltip.js"></script>
      <script type="text/javascript" src="cstar_utils.js"></script>
      <script type="text/javascript" src="cstar_module_loader.js"></script>
      <script type="text/javascript" src="methods_api.js"></script>
      <script type="text/javascript" src="cstar_pbe.js"></script>

      <script type="text/javascript">
        (function () {
          var options = {
            itemId: 5,
            readOnly: false,
            elementId: "core_ranking_5",
            initialData: {"title":null,"options":[],"rankings":{},"frozen":false,"locked":false,"published":false},
            itemCreatorUuid: "1",
            itemUuid: "5",
            itemRealUuid: "3zUC4DSM8ZTyQYfgLTvydW",
            gadgetUrl: null,
            objectType: "CstarDefaultMethod"
          };
          streamwork.moduleLoader.start("core.ranking", options, "1432591581");
          streamwork.initialize(3);
        }());

        if (!CSTAR.current_user) {
          CSTAR.current_user = {};
        }
        CSTAR.current_user.uuid = "1";
        CSTAR.current_user.name = "Cee-Dub Wiegner";
        CSTAR.jeditable_type = "textarea";
        // GY: comment out for now
        // jamApp.isEditable = true;

        jQuery(document).ready(function($) {
            // This has to run after a bunch of other javascript has run, so defer it.
            _.defer(function() {
              streamwork.moduleLoader.loadResources({"javascripts":["https://sap-oxygen.github.io/GY/ranking_gadget/ts_ranking.js"],"stylesheets":["https://sap-oxygen.github.io/GY/ranking_gadget/ts_ranking.css"],"moduleLocations":[["core.ranking",""]]}, "core.ranking")
            });
        });
      </script>

      <script type="text/javascript" src="ts_ranking.js"></script>

      <div id="sw_item_container">
        <div id="core_ranking_5" class="core_ranking cstar_item">
        </div>
      </div>
    ]]>
  </Content>
</Module >
